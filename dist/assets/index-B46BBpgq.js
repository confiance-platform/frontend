import{v as l,A as o,P as h,q as E,r as p,j as e,f as S,d as g,C as t,L as f}from"./index-CFgpXi-K.js";import{u as P,a as T,A as y,o as R,b as U,s as m}from"./schemas-D4Y9G3iu.js";class A{async register(r){try{return await l.post(o.USERS.REGISTER,r)}catch(s){throw s}}async getUserById(r){try{return await l.get(o.USERS.GET_BY_ID(r))}catch(s){throw s}}async getUserInfo(r){try{return await l.get(o.USERS.GET_INFO(r))}catch(s){throw s}}async updateUser(r,s){try{return await l.put(o.USERS.UPDATE(r),s)}catch(i){throw i}}async deleteUser(r){try{return await l.delete(o.USERS.DELETE(r))}catch(s){throw s}}async getAllUsers(r={}){try{const s={page:r.page??h.DEFAULT_PAGE,size:r.size??h.DEFAULT_SIZE,sortBy:r.sortBy??h.DEFAULT_SORT_BY,sortDirection:r.sortDirection??h.DEFAULT_SORT_DIRECTION};return await l.get(o.USERS.LIST,{params:s})}catch(s){throw s}}async addRole(r,s){try{return await l.post(o.USERS.ADD_ROLE(r),null,{params:{role:s}})}catch(i){throw i}}async removeRole(r,s){try{return await l.delete(o.USERS.REMOVE_ROLE(r),{params:{role:s}})}catch(i){throw i}}}const k=new A,F=R({firstName:m().min(1,"First name is required"),lastName:m().min(1,"Last name is required"),email:m().email("Invalid email address").min(1,"Email is required"),password:m().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[0-9]/,"Password must contain at least one digit").regex(/[@#$%^&+=]/,"Password must contain at least one special character"),confirmPassword:m().min(1,"Please confirm your password"),contactNumber:m().min(10,"Contact number must be at least 10 digits"),country:m().min(1,"Country is required"),city:m().optional(),acceptTerms:U().refine(d=>d===!0,{message:"You must accept the terms and conditions"})}).refine(d=>d.password===d.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),D=()=>{const d=E(),[r,s]=p.useState(!1),[i,x]=p.useState(""),[N,b]=p.useState(""),{register:n,handleSubmit:w,formState:{errors:a}}=P({resolver:T(F)}),v=async c=>{s(!0),x(""),b("");try{const u={email:c.email,password:c.password,firstName:c.firstName,lastName:c.lastName,contactNumber:c.contactNumber,country:c.country,city:c.city||""},j=await k.register(u);j.success?(b("Registration successful! Redirecting to login..."),setTimeout(()=>{d("/auth/sign-in",{state:{registeredEmail:c.email}})},2e3)):x(j.message||"Registration failed. Please try again.")}catch(u){x(u.message||"An error occurred during registration. Please try again.")}finally{s(!1)}};return e.jsx("div",{className:"sign-in-bg",children:e.jsx("div",{className:"app-wrapper d-block",children:e.jsx("div",{className:"main-container",children:e.jsx(S,{children:e.jsxs(g,{className:"sign-in-content-bg",children:[e.jsx(t,{lg:6,className:"image-contentbox d-none d-lg-block",children:e.jsxs("div",{className:"form-container",children:[e.jsx("div",{className:"signup-content mt-4",children:e.jsx("span",{children:e.jsx("img",{src:"../assets/images/logo/1.png",alt:"Confiance",className:"img-fluid"})})}),e.jsx("div",{className:"signup-bg-img",children:e.jsx("img",{src:"../assets/images/login/02.png",alt:"Sign Up",className:"img-fluid"})})]})}),e.jsx(t,{lg:6,className:"form-contentbox",children:e.jsx("div",{className:"form-container",children:e.jsx("form",{className:"app-form",onSubmit:w(v),children:e.jsxs(g,{children:[e.jsx(t,{xs:12,children:e.jsxs("div",{className:"mb-4 text-center text-lg-start",children:[e.jsx("h2",{className:"text-primary f-w-600",children:"Create Account"}),e.jsx("p",{children:"Get Started For Free Today!"})]})}),i&&e.jsx(t,{xs:12,children:e.jsx(y,{color:"danger",className:"mb-3",children:i})}),N&&e.jsx(t,{xs:12,children:e.jsx(y,{color:"success",className:"mb-3",children:N})}),e.jsx(t,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"firstName",className:"form-label",children:"First Name"}),e.jsx("input",{type:"text",className:`form-control ${a.firstName?"is-invalid":""}`,placeholder:"Enter your first name",id:"firstName",...n("firstName")}),a.firstName&&e.jsx("div",{className:"invalid-feedback",children:a.firstName.message})]})}),e.jsx(t,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"lastName",className:"form-label",children:"Last Name"}),e.jsx("input",{type:"text",className:`form-control ${a.lastName?"is-invalid":""}`,placeholder:"Enter your last name",id:"lastName",...n("lastName")}),a.lastName&&e.jsx("div",{className:"invalid-feedback",children:a.lastName.message})]})}),e.jsx(t,{xs:12,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),e.jsx("input",{type:"email",className:`form-control ${a.email?"is-invalid":""}`,placeholder:"Enter your email",id:"email",...n("email")}),a.email&&e.jsx("div",{className:"invalid-feedback",children:a.email.message})]})}),e.jsx(t,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"contactNumber",className:"form-label",children:"Contact Number"}),e.jsx("input",{type:"tel",className:`form-control ${a.contactNumber?"is-invalid":""}`,placeholder:"+1234567890",id:"contactNumber",...n("contactNumber")}),a.contactNumber&&e.jsx("div",{className:"invalid-feedback",children:a.contactNumber.message})]})}),e.jsx(t,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"country",className:"form-label",children:"Country"}),e.jsx("input",{type:"text",className:`form-control ${a.country?"is-invalid":""}`,placeholder:"Enter your country",id:"country",...n("country")}),a.country&&e.jsx("div",{className:"invalid-feedback",children:a.country.message})]})}),e.jsx(t,{xs:12,children:e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{htmlFor:"city",className:"form-label",children:["City ",e.jsx("span",{className:"text-muted",children:"(Optional)"})]}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Enter your city",id:"city",...n("city")})]})}),e.jsx(t,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),e.jsx("input",{type:"password",className:`form-control ${a.password?"is-invalid":""}`,placeholder:"Enter your password",id:"password",...n("password")}),a.password&&e.jsx("div",{className:"invalid-feedback",children:a.password.message})]})}),e.jsx(t,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirm Password"}),e.jsx("input",{type:"password",className:`form-control ${a.confirmPassword?"is-invalid":""}`,placeholder:"Confirm your password",id:"confirmPassword",...n("confirmPassword")}),a.confirmPassword&&e.jsx("div",{className:"invalid-feedback",children:a.confirmPassword.message})]})}),e.jsx(t,{xs:12,children:e.jsxs("div",{className:"alert alert-info small mb-3",children:[e.jsx("strong",{children:"Password must contain:"}),e.jsxs("ul",{className:"mb-0 mt-1",children:[e.jsx("li",{children:"At least 8 characters"}),e.jsx("li",{children:"One uppercase letter, one lowercase letter"}),e.jsx("li",{children:"One digit and one special character (@#$%^&+=)"})]})]})}),e.jsx(t,{xs:12,children:e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:`form-check-input ${a.acceptTerms?"is-invalid":""}`,type:"checkbox",id:"acceptTerms",...n("acceptTerms")}),e.jsxs("label",{className:"form-check-label text-secondary",htmlFor:"acceptTerms",children:["I accept the"," ",e.jsx(f,{to:"/other/terms-condition",className:"link-primary",children:"Terms & Conditions"})]}),a.acceptTerms&&e.jsx("div",{className:"invalid-feedback d-block",children:a.acceptTerms.message})]})})}),e.jsx(t,{xs:12,children:e.jsx("div",{className:"mb-3",children:e.jsx("button",{type:"submit",className:"btn btn-primary w-100",disabled:r,children:r?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Creating Account..."]}):"Sign Up"})})}),e.jsx(t,{xs:12,children:e.jsxs("div",{className:"text-center text-lg-start mb-3",children:["Already have an account?"," ",e.jsx(f,{to:"/auth/sign-in",className:"link-primary text-decoration-underline",children:"Sign in"})]})}),e.jsx("div",{className:"app-divider-v justify-content-center",children:e.jsx("p",{children:"Or sign up with"})}),e.jsx(t,{xs:12,children:e.jsxs("div",{className:"text-center",children:[e.jsx("button",{type:"button",className:"btn btn-facebook icon-btn b-r-22 m-1",disabled:!0,children:e.jsx("i",{className:"ti ti-brand-facebook text-white"})}),e.jsx("button",{type:"button",className:"btn btn-gmail icon-btn b-r-22 m-1",disabled:!0,children:e.jsx("i",{className:"ti ti-brand-google text-white"})}),e.jsx("button",{type:"button",className:"btn btn-github icon-btn b-r-22 m-1",disabled:!0,children:e.jsx("i",{className:"ti ti-brand-github text-white"})})]})})]})})})})]})})})})})};export{D as default};
